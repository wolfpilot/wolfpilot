var Wolfpilot=window.Wolfpilot||{};Wolfpilot=function(){"use strict";var e=function(){var e={},t=-1,n=function(){return e},i=function(t,n){return!!e[t]&&(setTimeout(function(){for(var i=e[t],s=i?i.length:0;s--;)i[s].func(t,n)},0),!0)},s=function(t){for(var n in e)if(e[n])for(var i=0;i<e[n].length;i++)if(e[n][i].token===t)return e[n].splice(i,1),t;return!1},o=function(n,i){e[n]||(e[n]=[]);var s=(++t).toString();return e[n].push({token:s,func:i}),s};return{getTopics:n,publish:i,subscribe:o,unsubscribe:s}}(),t=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),n=function(){var e,t,n=[],i=!1,s=250,o=function(){e=window.innerWidth,t=window.innerHeight,n.width=window.innerWidth,n.height=window.innerHeight,Wolfpilot.pubSub.publish("Window size",n)},a=function(){return{wWidth:e,wHeight:t}};return window.addEventListener("resize",function(){clearTimeout(i),i=setTimeout(o,s)}),document.addEventListener("DOMContentLoaded",function(){o()}),{getDimensions:a}}(),i=function(e){var t=window.location.href,n=new RegExp("[?&]"+e+"=([^&#]*)","i"),i=n.exec(t);return i?i[1]:null},s=function(e,t){for(var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e&&!n.call(e,t);)e=e.parentElement;return e},o=function(){var e=document.getElementById("header").offsetHeight,n={easeInSine:function(e){return-Math.cos(e*(Math.PI/2))+1},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)}},i=function(i,s,o){var a=window.scrollY||document.documentElement.scrollTop,c=document.getElementById(i).offsetTop,r=0,l=Math.max(.1,Math.min(Math.abs(a-c-e)/s,.8)),u=function(){r+=1/60;var e=r/l,i=n[o](e);e<1&&(t(u),window.scrollTo(0,a+(c-a)*i))};u()};return function(){for(var e=document.getElementsByClassName("js-scroll"),t=0;t<e.length;t++)e[t].addEventListener("click",i.bind(null,e[t].getAttribute("data-target"),50,"easeInSine"),!1)}(),function(){var e=location.hash.replace("#","");""!==e&&i(e,50,"easeInSine")}(),{scrollTo:i}}(),a=function(e){e.hasAttribute("data-lazyload-src")&&(e.setAttribute("src",e.getAttribute("data-lazyload-src")),e.removeAttribute("data-lazyload-src"))},c=function(){var e,t,n,i=document.getElementsByClassName("js-event-tracker"),s=function(e,t,n){window.ga("send","event",e,t,n)},o=function(i){e=i.getAttribute("data-event-category"),t=i.getAttribute("data-event-action"),n=i.getAttribute("data-event-label"),s(e,t,n)};return function(){for(var e=0;e<i.length;e++)i[e].addEventListener("click",o.bind(null,i[e]),!1)}(),{handler:o,send:s}}(),r=function(){var e=document.getElementById("overlay"),t="closed",n=function(){return{status:t}},i=function(){t="open",e.classList.add("is-active")},s=function(){t="closed",e.classList.remove("is-active")},o=function(){"closed"===t?i():s()};return{getStatus:n,handler:o,open:i,close:s}}(),l=function(){if(!document.getElementById("js-modal"))return!1;var e,t,n,i=document.getElementById("js-modal"),s=i.getElementsByClassName("modal__project"),o=document.getElementById("js-modal--prev"),c=document.getElementById("js-modal--next"),l=document.getElementById("js-modal--close"),u="closed",d=[],m=function(){return{status:u}},f=function(){return e},g=function(){return d},v=function(){var n;e[d.index]!==e[0]?(t=document.getElementById(e[d.index-1]),n=d.index-1):(t=document.getElementById(e[e.length-1]),n=e.length-1),a(t.getElementsByClassName("modal__img")[0]),d.el.classList.remove("is-visible"),t.classList.add("is-visible"),d.el=t,d.index=n},h=function(){var t;e[d.index]!==e[e.length-1]?(n=document.getElementById(e[d.index+1]),t=d.index+1):(n=document.getElementById(e[0]),t=0),a(n.getElementsByClassName("modal__img")[0]),d.el.classList.remove("is-visible"),n.classList.add("is-visible"),d.el=n,d.index=t},p=function(){u="open",r.handler(),i.classList.add("is-active"),a(d.el.getElementsByClassName("modal__img")[0]),d.el.classList.add("is-visible")},w=function(){u="closed",r.handler(),i.classList.remove("is-active");for(var e=0;e<s.length;e++)s[e].classList.remove("is-visible")},b=function(t,n){switch(t){case"Showcased projects":e=n;break;case"Active project":d.el=n.el,d.index=n.index,p();break;default:return!1}return!0};return function(){i.addEventListener("click",function(e){e.target===l&&w(),e.target===o&&v(),e.target===c&&h()}),document.addEventListener("mousedown",function(e){"open"===u&&e.target===i&&w()})}(),document.addEventListener("DOMContentLoaded",function(){Wolfpilot.pubSub.subscribe("Active project",b),Wolfpilot.pubSub.subscribe("Showcased projects",b)}),{getStatus:m,getActiveProject:g,getShowcasedProjects:f,prev:v,next:h,open:p,close:w}}(),u=function(){var e=document.getElementById("header"),t=document.getElementById("nav"),n=t.getElementsByClassName("nav__item"),i=document.getElementById("js-burger"),s="closed",o=function(){s="open",e.classList.add("is-active")},a=function(){s="closed",e.classList.remove("is-active")},c=function(e){for(var t=0;t<n.length;t++)n[t].classList.remove("is-active");e.classList.add("is-active")},r=function(e,t){"open"===s&&t.width>=480&&(Wolfpilot.overlay.close(),a())},l=function(){"closed"===s?o():a()};return function(){t.addEventListener("click",function(e){e.target.classList.contains("nav__item")&&(c(e.target),Wolfpilot.windowSize.getDimensions().wWidth<480&&setTimeout(function(){Wolfpilot.overlay.close(),a()},150))}),i.addEventListener("click",function(){Wolfpilot.overlay.handler(),l()})}(),function(){var e=window.location.hash.substr(1);if(e.length>0)for(var t=0;t<n.length;t++)n[t].getAttribute("data-target")===e&&c(n[t])}(),document.addEventListener("DOMContentLoaded",function(){Wolfpilot.pubSub.subscribe("Window size",r)}),{open:o,close:a,goTo:c}}(),d=function(){if(!document.getElementById("js-showcase"))return!1;var e,t=document.getElementById("js-showcase"),n=document.getElementById("js-showcase-nav"),i=t.getElementsByClassName("showcase__nav-item"),s=t.getElementsByClassName("js-showcase-project"),o="featured",c=[],r=function(){return e},l=function(){return o},u=function(t){o=t,e=[],setTimeout(function(){for(var n=0;n<s.length;n++)for(var i=s[n].getAttribute("data-tag").split(", "),o=0;o<i.length;o++)i[o]===t&&(a(s[n].firstElementChild),s[n].classList.add("is-visible"),e.push(s[n].getAttribute("data-target")))},500),Wolfpilot.pubSub.publish("Showcased projects",e)},d=function(){o="all",e=[],setTimeout(function(){for(var t=0;t<s.length;t++)a(s[t].firstElementChild),s[t].classList.add("is-visible"),e.push(s[t].getAttribute("data-target"))},500),Wolfpilot.pubSub.publish("Showcased projects",e)},m=function(){for(var e=0;e<s.length;e++)s[e].classList.remove("is-visible")},f=function(e,t){m(),"all"===t?d():u(t)},g=function(e){for(var t=0;t<i.length;t++)i[t].classList.remove("is-active");e.classList.add("is-active")};return function(){t.addEventListener("click",function(t){if(t.target.classList.contains("js-showcase-zoom")||Wolfpilot.windowSize.getDimensions().wWidth>1024&&Wolfpilot.windowSize.getDimensions().wHeight>765&&t.target.classList.contains("showcase__project-details"))for(var n=Wolfpilot.getClosestParent(t.target,".js-showcase-project"),i=document.getElementById(n.getAttribute("data-target")),s=n.getAttribute("data-target"),o=0;o<e.length;o++)e[o]===s&&(c.el=i,c.index=o,Wolfpilot.pubSub.publish("Active project",c))}),n.addEventListener("click",function(e){e.target.classList.contains("showcase__nav-item")&&!e.target.classList.contains("is-active")&&(Wolfpilot.pubSub.publish("Showcased category",e.target.getAttribute("data-category")),g(e.target))})}(),document.addEventListener("DOMContentLoaded",function(){Wolfpilot.pubSub.subscribe("Showcased category",f),u(o)}),{getShowcasedProjects:r,getShowcasedCategory:l,showCategory:u,showAll:d,hideAll:m,toggleNav:g}}(),m=function(){var e,t,n=document.getElementsByClassName("js-video"),i="paused",s=function(){return{status:i}},o=function(n){e=Wolfpilot.getClosestParent(n,".js-video"),t=e.getElementsByClassName("js-video-player")[0],e.classList.remove("is-playing"),t.pause(),i="paused"},a=function(n){e=Wolfpilot.getClosestParent(n,".js-video"),t=e.getElementsByClassName("js-video-player")[0],e.classList.add("is-playing"),t.play(),i="playing"},c=function(e){"paused"===i?a(e):o(e)};return function(){for(var e=0;e<n.length;e++)n[e].addEventListener("click",function(e){c(e.target)})}(),{getStatus:s,play:a,pause:o}}(),f=function(){var e,t,n,s=document.getElementsByClassName("case-studies__nav-item"),o=document.getElementsByClassName("case-studies__item"),c=function(t){for(var i=0;i<o.length;i++){n=o[i].getAttribute("data-tags"),e=JSON.parse(n);for(var s=0;s<e.length;s++)e[s]===t&&(a(o[i].getElementsByClassName("case-studies__image")[0]),o[i].classList.remove("is-hidden"))}},r=function(){for(var e=0;e<o.length;e++)a(o[e].getElementsByClassName("case-studies__image")[0]),o[e].classList.remove("is-hidden")},l=function(e){for(var t=0;t<s.length;t++)s[t].getAttribute("data-target")===e&&s[t].classList.add("is-active")};!function(){i("tag")?(t=i("tag"),l(t),c(t)):(l("all"),r())}()}();return{pubSub:e,windowSize:n,getQueryString:i,getClosestParent:s,lazyload:a,eventTracking:c,navigation:u,scrollToY:o,overlay:r,modal:l,showcase:d,videoPlayer:m,caseStudies:f}}();
//# sourceMappingURL=maps/scripts.min.js.map
